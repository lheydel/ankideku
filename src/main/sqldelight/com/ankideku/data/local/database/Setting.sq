-- Application settings key-value store

CREATE TABLE setting (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL,
    updated_at INTEGER NOT NULL
);

-- Settings queries

getSetting:
SELECT value FROM setting WHERE key = ?;

upsertSetting:
INSERT INTO setting (key, value, updated_at) VALUES (?, ?, ?)
ON CONFLICT(key) DO UPDATE SET value = excluded.value, updated_at = excluded.updated_at;

getAllSettings:
SELECT * FROM setting;
